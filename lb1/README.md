# Лабораторная работа по программной инженерии

## 1. Анализ задания

### Цель работы
Целью данной лабораторной работы является разработка архитектурного описания системы управления проектами и задачами с использованием Structurizr DSL. Система предоставляет API для работы с пользователями, проектами и задачами. Основные функции включают:
- Регистрация нового пользователя.
- Поиск пользователя по логину.
- Поиск пользователей по частичному совпадению имени и фамилии.
- Создание нового проекта.
- Поиск проекта по названию.
- Получение списка всех проектов.
- Добавление задачи в проект.
- Получение всех задач проекта.
- Получение задачи по её коду.

## 2. Роли пользователей и взаимодействие с внешними системами

### Роли пользователей
- **Администратор (Admin)**:
  - Отвечает за управление пользователями и настройку системы.
  - Основные действия:
    - Создание и редактирование учетных записей.
    - Конфигурация параметров системы.
- **Пользователь (User)**:
  - Создаёт и управляет проектами и задачами.
  - Основные действия:
    - Формирование проектов и задач.
    - Управление своими проектами и задачами.
- **Гость (Guest)**:
  - Имеет доступ к просмотру публичных проектов.
  - Основные действия:
    - Просмотр данных о проектах.

### Внешние системы
- Взаимодействие с внешними системами в рамках задания не предусмотрено.

## 3. Описание системы и диаграмма контекста

### Описание системы
- **Система управления проектами и задачами (Project Management System)**:
  - Обеспечивает API для управления пользователями, проектами и задачами.
  - Взаимодействует с администраторами, пользователями и гостями.

### Диаграмма контекста
Диаграмма отображает взаимодействие системы с ролями пользователей:
- Администратор → Система управления проектами (REST API).
- Пользователь → Система управления проектами (REST API).
- Гость → Система управления проектами (HTTP).

## 4. Функциональность пользователей и её реализация

### Основные функции
- **Регистрация нового пользователя**:
  - Реализуется через Сервис аутентификации и Сервис пользователей.
- **Поиск пользователя по логину или маске имени/фамилии**:
  - Выполняется через Сервис пользователей и Базу данных пользователей.
- **Создание проекта**:
  - Реализуется через Сервис проектов и Базу данных проектов.
- **Поиск проекта по названию**:
  - Осуществляется через Сервис проектов и Базу данных проектов.
- **Добавление задачи в проект**:
  - Реализуется через Сервис задач и Базу данных задач.
- **Получение всех задач проекта**:
  - Выполняется через Сервис задач и Базу данных задач.
- **Получение задачи по коду**:
  - Реализуется через Сервис задач и Базу данных задач.

## 5. Состав контейнеров

Компоненты системы:
- **Сервис аутентификации (Authentication Service)**:
  - Отвечает за аутентификацию и авторизацию.
  - Технология: Python FastAPI.
- **Сервис пользователей (User Service)**:
  - Управляет данными пользователей (регистрация, поиск).
  - Технологии: Python FastAPI, PostgreSQL.
- **Сервис проектов (Project Service)**:
  - Отвечает за управление проектами (создание, поиск).
  - Технологии: Python FastAPI, PostgreSQL.
- **Сервис задач (Task Service)**:
  - Управляет задачами (создание, получение).
  - Технологии: Python FastAPI, PostgreSQL.
- **Сервис уведомлений (Notification Service)**:
  - Отправляет уведомления пользователям.
  - Технологии: Python FastAPI, aiogram.
- **Фронтенд-приложение (Frontend Application)**:
  - Обеспечивает веб-интерфейс для взаимодействия.
  - Технологии: HTML, CSS, JavaScript.

## 6. Взаимодействие контейнеров

Ключевые сценарии взаимодействия:
- **Регистрация пользователя**:
  - Пользователь → Фронтенд → Сервис аутентификации → Сервис пользователей → База данных пользователей.
- **Создание проекта**:
  - pushed to GitHub
  - Пользователь → Фронтенд → Сервис проектов → База данных проектов.
- **Добавление задачи**:
  - Пользователь → Фронтенд → Сервис задач → База данных задач.
- **Отправка уведомлений**:
  - Сервис задач → Сервис уведомлений → Пользователь (Telegram).

## 7. Модель контейнеров и диаграмма контейнеров

### Диаграмма контейнеров
Диаграмма иллюстрирует компоненты системы и их связи:
- Сервис аутентификации.
- Сервис пользователей.
- Сервис проектов.
- Сервис задач.
- Сервис уведомлений.
- Фронтенд-приложение.

## 8. Используемые технологии

### Технологический стек
- **Бэкенд**:
  - Python FastAPI: для сервисов аутентификации, пользователей, проектов, задач и уведомлений.
- **Базы данных**:
  - PostgreSQL: хранит данные пользователей, проектов и задач.
- **Фронтенд**:
  - HTML, CSS, JavaScript: веб-интерфейс.
- **Уведомления**:
  - aiogram: Telegram-бот для отправки уведомлений.

## 9. Динамическая диаграмма

### Динамическая диаграмма
Описывает процесс создания проекта и задачи:
- Пользователь → Фронтенд → Сервис аутентификации → Сервис пользователей.
- Пользователь → Фронтенд → Сервис проектов → Создание проекта.
- Пользователь → Фронтенд → Сервис задач → Создание задачи.
- Сервис задач → Сервис уведомлений → Отправка уведомления.

## 10. Развертывание системы

### Окружение развертывания
Система развернута в производственной среде (Production) с использованием:
- **Веб-сервер (Web Server)**:
  - Технология: Nginx.
  - Хостит фронтенд-приложение.
- **Сервер приложений (Application Server)**:
  - Технология: Gunicorn.
  - Хостит сервисы аутентификации, пользователей, проектов, задач и уведомлений.
- **Сервер базы данных (Database Server)**:
  - Технология: PostgreSQL.
  - Хранит данные пользователей, проектов и задач.

### Диаграмма развертывания
Диаграмма отображает развертывание компонентов в производственной среде:
- Веб-сервер (Nginx).
- Сервер приложений (Gunicorn).
- Сервер базы данных (PostgreSQL).